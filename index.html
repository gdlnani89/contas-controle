<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Croissant+One&family=Roboto&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="./css/style.css">
    <script src="./js/vue.min.js"></script>
    <title>CoinControl</title>
</head>
<body>
    <div id="app">
        <header class="flex justify-between items-center bg-gradient p-2">
            <h1 class="text-lg text-white font-sans">CoinControl</h1>
            <nav class="relative">
                <button @click="showMenu = !showMenu" class="flex justify-center items-center px-2 cursor-pointer border-none bg-transparent text-lg text-yellow font-sans">
                    <svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" fill="currentColor" class="bi bi-caret-down-fill m-2" viewBox="0 0 16 16">
                        <path d="M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"/>
                    </svg>
                    Extrato
                </button>
                <ul id="ulmenu" v-show="showMenu" class="flex flex-col absolute right-0 z-50 bg-white rounded b-shadown-y text-center font-sans top-37">
                    <li><button>Extratos</button></li>
                    <li><button>Aplicações</button></li>
                    <li><button>Empréstimos</button></li>
                    <li><button>Patrimonio</button></li>
                    <li><button>Totais</button></li>
                </ul>
            </nav>
        </header>
        <nav v-show="true" class="flex justify-around ">
            <button class="p-1 bg-transparent border-none" @click="mesAnterior">
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-chevron-left" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
                </svg>
            </button>
            <div class="m-2 flex flex-col justify-center items-center"> 
                <p class="capitalize">{{mesString[mesIndice]}}</p>
                <p>{{ano}}</p>
            </div>
            <button class="p-1 bg-transparent border-none" @click="mesProximo">
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="currentColor" class="bi bi-chevron-right" viewBox="0 0 16 16">
                    <path fill-rule="evenodd" d="M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z"/>
                </svg>
            </button>
        </nav>
        <table class="w-full">
            <thead class="bg-gradient text-white">
                <th>Dia</th>
                <th>Descrição</th>
                <th>Tipo</th>
                <th>Valor</th>
            </thead>
            <tbody>
                <tr v-bind:id="lacamento.id" @click="selecionaElemento" class="text-center" v-for="(lacamento,index) in contaSelecionada" :key="index" :class="{ 'odd-row': index % 2 !== 0 }">
                    <td style="width: 30px;">{{lacamento.dia}}</td>
                    <td>{{lacamento.descricao}}</td>
                    <td style="width: 40px;">{{lacamento.tipo}}</td>
                    <td>{{formatarNumero(lacamento.valor)}}</td>
                </tr>
            </tbody>
        </table>
        <footer :class="{cfooterShow: showFooter}"  class="fixed w-full flex flex-col gap-2 justify-center items-center bg-gradient f-escondido">
            <div :class="{topBtn: !showFooter}" class="absolute right-0 top-n">
                <button @click="footerShow" v-show="!showFooter" class="mr-1 p-2 rounded-50 border-none flex items-center cursor-pointer btn-shadown bg-gradient">
                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="white" class="bi bi-plus" viewBox="0 0 16 16">
                        <path d="M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4z"/>
                      </svg>
                </button>
                <button 
                    @click="addLancamento"
                    v-show="showFooter" 
                    class="mr-1 p-2 rounded-50 border-none flex items-center cursor-pointer btn-shadown bg-gradient">
                    <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="yellow" class="bi bi-check-lg" viewBox="0 0 16 16">
                        <path d="M12.736 3.97a.733.733 0 0 1 1.047 0c.286.289.29.756.01 1.05L7.88 12.01a.733.733 0 0 1-1.065.02L3.217 8.384a.757.757 0 0 1 0-1.06.733.733 0 0 1 1.047 0l3.052 3.093 5.4-6.425a.247.247 0 0 1 .02-.022Z"/>
                    </svg>
                </button>
            </div>
            <button
                @click="footerClose"
                v-show="showFooter" 
                class="rounded-50 border-none flex items-center cursor-pointer bg-transparent absolute top-0 left-0"
            >
                <svg xmlns="http://www.w3.org/2000/svg" width="26" height="26" fill="white" class="bi bi-x" viewBox="0 0 16 16">
                <path d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                </svg>
            </button>
            
            <h4 class="m-1">Adicionar</h4>
            <p>
                <button style="width: 50px;" class="p-2" @click="decrementarDia">-</button>
                Dia
                <input v-model="dia" type="number" style="width: 40px;" maxlength="2">
                <button style="width: 50px;" class="p-2" @click="incrementarDia">+</button>
            </p>
            <p>
                Descrição
                <input id="descricao" v-model="descricao" type="text">
            </p>
            <p>
                Valor
                <input id="valor" v-model="valor" type="text">
            </p>
            <p class="flex gap-5" style="margin-bottom: 6px;">
                <label for="credito">
                    <input id="credito" type="radio" value="c" name="tipo" v-model="tipo">
                    Crédito
                </label>
                <label for="debito">
                    <input id="debito" type="radio" value="d" name="tipo" v-model="tipo">
                    Débito
                </label>
            </p>
        </footer>
        <!-- Modal para editar lançamento -->
        <div id="modalExtrato" v-show="showModalExtrato" class="fixed w-full top-0 left-0 bg-black4 h-full flex justify-center items-center z-50">
            <div class="flex flex-col items-center gap-2 p-2 border border-black border-solid bg-gradient rounded"
                style="width: 300px;"
            >
                <h4 class="text-center">Alterar/Excluir</h4>
                <p class="flex gap-2 justify-center items-center">
                    <button class="flex items-center justify-center p-2 border-black rounded bg-transparent" style="width: 50px;" class="p-2" @click="decrementarDia">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-dash-lg" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M2 8a.5.5 0 0 1 .5-.5h11a.5.5 0 0 1 0 1h-11A.5.5 0 0 1 2 8Z"/>
                          </svg>
                    </button>
                    Dia
                    <input v-model="dia" class="p-1" type="number" style="width: 40px;" maxlength="2">
                    <button class="flex items-center justify-center p-2 border-black rounded bg-transparent" style="width: 50px;" class="p-2" @click="incrementarDia">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" class="bi bi-plus-lg" viewBox="0 0 16 16">
                            <path fill-rule="evenodd" d="M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"/>
                          </svg>
                    </button>
                </p>
                <p>
                    Descrição
                    <input v-model="descricao" class="p-1" type="text" style="width: 125px;">
                </p>
                <p>
                    Valor
                    <input v-model="valor" class="p-1" type="text" style="width: 125px;">
                </p>
                <p style="margin-bottom: 6px;">
                    Tipo
                    <select class="p-2" name="" id="" v-model="tipo">
                        <option value="c">c</option>
                        <option value="d">d</option>
                    </select>
                </p>
                <div class="flex w-full justify-around">
                    <button @click="alteraElemento" class="p-2">Alterar</button>
                    <button @click="excluirElemento" class="p-2">Excluir</button>
                    <button @click="cancelarAlteracao" class="p-2">Cancelar</button>
                </div>
            </div>
        </div>
    </div>
    <script src="js/index.js"></script>
</body>
</html>